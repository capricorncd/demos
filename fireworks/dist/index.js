/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Fireworks=e():t.Fireworks=e()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function s(t,e=0,s=!1){const i=Math.random()*(t-e)+e;return s?Math.round(i):i}function i(t,e,s,i){return Math.sqrt(Math.pow(t-s,2)+Math.pow(e-i,2))}function h(t){return{width:t instanceof Window?window.innerWidth:t.offsetWidth,height:t instanceof Window?window.innerHeight:t.offsetHeight}}t.r(e),t.d(e,{Fireworks:()=>r});class o{constructor(t){this.options=t;const{x:e,y:i,hue:h}=t;for(this.x=e,this.y=i,this.angle=s(2*Math.PI),this.speed=s(10,1),this.friction=.95,this.gravity=1,this.hue=s(h+20,h-20),this.brightness=s(80,50),this.alpha=1,this.decay=s(.03,.015),this.coordinates=[],this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y])}draw(t){const{hue:e}=this.options,[s=0,i=0]=this.coordinates[this.coordinates.length-1];t.beginPath(),t.moveTo(s,i),t.lineTo(this.x,this.y),t.strokeStyle=`hsl(${e}, 100%, ${this.brightness}%, ${this.alpha})`,t.stroke()}update(t,e,s){this.draw(s),this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=0&&e.splice(t,1)}}class n{constructor(t){this.options=t;const{x:e,y:h,targetX:o,targetY:n}=t;for(this.x=e,this.y=h,this.startX=e,this.startY=h,this.targetX=o,this.targetY=n,this.distanceTarget=i(e,h,o,n),this.distanceTraveled=0,this.angle=Math.atan2(n-h,o-e),this.speed=2,this.acceleration=1.02,this.brightness=s(70,50),this.targetRadius=1,this.coordinateCount=3,this.coordinates=[];this.coordinateCount--;)this.coordinates.push([e,h]);this.hue=s(120,50)}draw(t){const[e=0,s=0]=this.coordinates[this.coordinates.length-1];t.beginPath(),t.moveTo(e,s),t.lineTo(this.x,this.y),t.strokeStyle=`hsl(${this.hue}, 100%, ${this.brightness}%)`,t.stroke(),t.beginPath(),t.arc(this.targetX,this.targetY,this.targetRadius,0,2*Math.PI),t.stroke()}update(t,e,s){this.draw(s),this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.targetRadius<8?this.targetRadius+=.2:this.targetRadius=1,this.speed*=this.acceleration;const h=Math.cos(this.angle)*this.speed,o=Math.sin(this.angle)*this.speed;this.distanceTraveled=i(this.startX,this.startY,this.x+h,this.y+o),this.distanceTraveled>=this.distanceTarget?(e.splice(t,1),this.createParticles()):(this.x+=h,this.y+=o)}createParticles(){const{targetX:t,targetY:e,particles:i}=this.options;let h=s(120,30,!0);for(;h--;)i.push(new o({x:t,y:e,hue:this.hue}))}}function r(t){const e=document.createElement("canvas"),i=e.getContext("2d");e.style.background="#000";const o=[],r=[];let{width:a,height:d}=h(t);function c(t,e){t=null!=t?t:s(a);const i=new n({x:s(t+20,t-20),y:d,targetX:t,targetY:null!=e?e:s(d/2),particles:r});o.push(i)}e.width=a,e.height=d,window.addEventListener("resize",(()=>{const s=h(t);a=s.width,d=s.height,e.width=a,e.height=d})),c();let l=0,u=null,p=0;return e.addEventListener("mouseup",(t=>{if(null===u){const t=function(t){let e=0,s=0;for(;t;)e+=t.offsetTop,s+=t.offsetLeft,t=t.offsetParent;return{top:e,left:s}}(e);p=t.left,u=t.top}c(t.pageX-p,t.pageY-u)})),function t(){requestAnimationFrame(t),i.fillStyle="rgba(0, 0, 0, 0.5)",i.clearRect(0,0,e.width,e.height);let s=o.length;for(;s--;)o[s].update(s,o,i);let h=r.length;for(;h--;)r[h].update(h,r,i);l>20?(l=0,c()):l++}(),e}return e})()}));